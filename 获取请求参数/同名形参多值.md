---
up:
  - "[[Spring MVC 課程描述]]"
  - "[[通过控制器方法形参获取]]"
---
若请求所传输的请求参数中有多值情况，此时可以在控制器方法的形参中设置 _字符串数组_ 或者 _字符串类型_ 的形参接收此请求参数

- 若使用字符串数组类型的形参，此参数的数组中包含了每一个数据
- 若使用字符串类型的形参，此参数的值为每个数据中间使用逗号拼接的结果

当某个请求参数有多个值时，比如前台含有复选框的情况，还能否使用这种方式呢？“实践出真知”，现在就进行测试

后台测试代码

```java
@RequestMapping("/testParam2")
public String testParam2(String username, String password, String hobby) {
    System.out.println("username=" + username + ", password=" + password + ", hobby=" + hobby);
    return "success";
}
```

前台测试代码

```html
<!--为了更直观地在地址栏中看到请求参数，这里使用get类型请求方式-->
<form th:action="@{paramController/testParam2}" method="get">
    用户名：<input type="text" name="username"><br/>
    密码：<input type="password" name="password"><br/>
    爱好：<input type="checkbox" name="hobby" value="Spring">Spring
    <input type="checkbox" name="hobby" value="SpringMVC">SpringMVC
    <input type="checkbox" name="hobby" value="SpringBoot">SpringBoot
    <br/><input type="submit" value="测试请求参数">
</form>
```

测试结果

![[1755428033318_Y8fwtFwTsd.gif]]

前台请求路径中复选框的值为`hobby=Spring&hobby=SpringMVC&hobby=SpringBoot`，即出现了多个`hobby=value`的情况

后台日志信息

```java
username=hah, password=111111, hobby=Spring,SpringMVC,SpringBoot
```

可见 SpringMVC 的控制器方法，对多个`hobby`值使用了`,`进行拼接并赋值给同名形参

**扩展**：如果这里使用 Servlet API 进行获取请求参数，就不能使用`getParameter()`方法获取 hobby 值了，而要使用`getParameterValues()`方法

后台代码测试

```java
@RequestMapping("/testServletAPI2")
public String testServletAPI2(HttpServletRequest request) {
 String hobby = request.getParameter("hobby");
 String[] hobby2 = request.getParameterValues("hobby");
 System.out.println("hobby=" + hobby + ", hobby2=" + Arrays.toString(hobby2));
 return "success";
}
```

后台日志信息：通过`getParameter()`只能获取到 hobby 的第一个值，而`getParameterValues()`可以以数组的形式返回 hobby 的所有值

```java
username=sdfg, password=sdfg, hobby=Spring, hobby2=[Spring, SpringMVC, SpringBoot]
```

> 当然还是那句话：不建议在 SpringMVC 中使用原生 Servlet API 方法！！！这里稍作回顾和了解即可

另外，控制器方法中使用`String`类型的数组接收 hobby 值也是可以的

```java
@RequestMapping("/testParam3")
public String testParam3(String username, String password, String[] hobby) {
    System.out.println("username=" + username + ", password=" + password + ", hobby=" + Arrays.toString(hobby));
    return "success";
}
```

后台日志信息

```java
username=aaaaaaaaa, password=aaaaaaaa, hobby=[Spring, SpringMVC, SpringBoot]
```